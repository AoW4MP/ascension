<!DOCTYPE HTML>
<html lang="en">

<link rel="shortcut icon" type="image/x-icon" href="/aowp/favicon.ico" />

<head>
    <link rel="stylesheet" type="text/css" href="/highlanderdb/Style/style.css">
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-1.10.2.min.js" integrity="sha256-C6CB9UYIS9UJeqinPHWTHVqh/E1uhG5Twh+Y5qFQmYg=" crossorigin="anonymous"></script>

    <script id="unitsScript" type="text/javascript" language="javascript" src="/highlanderdb/Data/Units.json"></script>
    <script type="text/javascript" language="javascript" src="/highlanderdb/Data/Abiities.json"></script>
    <script type="text/javascript" language="javascript" src="/highlanderdb/Data/Builder.js"></script>

    <script>
        $("#body").ready(function() {

            $("#header").load("/highlanderdb/HTML/header.html", function() {

                showSpellsWithArgument("General Research", "spell1", "unit enchantment");
                showSpellsWithArgument("Culture", "spell2", "unit enchantment");
                showSpellsWithArgument("Order", "spell3", "unit enchantment");
                showSpellsWithArgument("Chaos", "spell4", "unit enchantment");
                showSpellsWithArgument("Nature", "spell5", "unit enchantment");
                showSpellsWithArgument("matter", "spell6", "unit enchantment");

                showSpellsWithArgument("arcana", "spell7", "unit enchantment");
                showSpellsWithArgument("Shadow", "spell8", "unit enchantment");


            });

            var coll = document.getElementsByClassName("collapsible");
            var content = document.getElementsByClassName("content");
            var i;

            for (i = 0; i < coll.length; i++) {
                coll[i].addEventListener("click", function() {
                    this.classList.toggle("active");
                    var content = this.nextElementSibling;
                    if (content.style.display === "block") {
                        content.style.display = "none";
                    } else {
                        content.style.display = "block";
                    }
                });
            }


        });

    </script>



    <title>Age of Wonders 4 - Enchantment Spells</title>
</head>

<body>
    <div id="header"></div>

    <div class="textblocktitle">
        Enchantment Spells
    </div>

    <div style="
    display: table;
    margin: 5px;
    margin-left: auto;
    margin-right: auto;">
        <button onclick="sortDivs('name')">Name Sorting Buttons</button>
        <button onclick="sortDivs('tier')">Tier Sorting Buttons</button>
        <button onclick="sortDivs('cost')">Cost Sorting Buttons</button>
    </div>
    <div class="w3-container">

        <div class="w3-bar w3-black">
            <button class="w3-bar-item w3-button tablink w3-red" onclick="openCity(event,'Generic Research')">Generic Research</button>
            <button class="w3-bar-item w3-button tablink" onclick="openCity(event,'Cultures')">Cultures</button>
            <button class="w3-bar-item w3-button tablink" onclick="openCity(event,'Order')">Order</button>
            <button class="w3-bar-item w3-button tablink" onclick="openCity(event,'Chaos')">Chaos</button>
            <button class="w3-bar-item w3-button tablink" onclick="openCity(event,'Nature')">Nature</button>
            <button class="w3-bar-item w3-button tablink" onclick="openCity(event,'Materium')">Materium</button>
            <button class="w3-bar-item w3-button tablink" onclick="openCity(event,'Astral')">Astral</button>
            <button class="w3-bar-item w3-button tablink" onclick="openCity(event,'Shadow')">Shadow</button>
        </div>

        <div id="list">

            <div id="Generic Research" class="w3-container w3-border city">
                <div id="spell1"></div>
            </div>

            <div id="Cultures" class="w3-container w3-border city" style="display:none">
                <div id="spell2"></div>
            </div>

            <div id="Order" class="w3-container w3-border city" style="display:none">
                <div id="spell3"></div>
            </div>
            <div id="Chaos" class="w3-container w3-border city" style="display:none">
                <div id="spell4"></div>
            </div>
            <div id="Nature" class="w3-container w3-border city" style="display:none">
                <div id="spell5"></div>
            </div>
            <div id="Materium" class="w3-container w3-border city" style="display:none">
                <div id="spell6"></div>
            </div>
            <div id="Astral" class="w3-container w3-border city" style="display:none">
                <div id="spell7"></div>
            </div>
            <div id="Shadow" class="w3-container w3-border city" style="display:none">
                <div id="spell8"></div>
            </div>
        </div>
    </div>





</body>
<script>
    var ascendingOrder = true;
    var currentView = "spell1";

    function sortDivs(sortType) {



        // 2 - Detemine the selector


        // 3 - Choose the wanted order
        ascendingOrder = !ascendingOrder;
        const isNumeric = true;

        // 4 - Select all elements
        var container = document.getElementById(currentView);
        var element = elements = [...container.querySelectorAll('.mod_card')]


        var selector = "";
        selector = element => element.querySelector('.mod_name').innerHTML;
        if (sortType == "name") {

        }
        if (sortType == "tier") {
            selector = element => element.querySelector('.spell_tier').innerHTML;
        }
        if (sortType == "cost") {
            selector = element => element.querySelector('.spell_cost').innerHTML;
        }

        console.log(elements);
        // 5 - Find their parent
        const parentElement = container;

        // 6 - Sort the elements
        const collator = new Intl.Collator(undefined, {
            numeric: isNumeric,
            sensitivity: 'base'
        });

        elements
            .sort((elementA, elementB) => {
                const [firstElement, secondElement] = ascendingOrder ? [elementA, elementB] : [elementB, elementA];
                const textOfFirstElement = selector(firstElement);
                const textOfSecondElement = selector(secondElement);
                return collator.compare(textOfFirstElement, textOfSecondElement)
            })
            .forEach(element => parentElement.appendChild(element));
    }

</script>

</html>
<footer>
    <br>
    <br>
</footer>
